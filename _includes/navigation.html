<div class = "container-fluid sticky-top navbar-container">
  <div class = "container">
    <!-- Check if we are displaying the navigation -->
    {% if site.show_navigation %}
      <nav class = "navbar navbar-expand-lg mb-0 pb-0 d-inline-block">
        <!-- Add button for collapsing the navigation bar -->
        <button class = "navbar-toggler" id = "toggleButton" type = "button" data-toggle = "collapse" data-target = "#navbarSupportedContent" aria-controls = "navbarSupportedContent" aria-expanded = "false" aria-label = "Toggle navigation">
          <span>
            <i class="fas fa-bars text-white"></i>
          </span>
        </button>
  
        <!-- Start the collapsable div -->
        <div class = "collapse navbar-collapse" id = "navbarSupportedContent">
          <!-- Start the navigation tabs -->
          <ul class = "navbar-nav mr-auto" id = "nav-tab">
            {% for node in site.data.navigation %}
              {% if page.url == node.link %}
                <li class = "nav-item  nav-item-customizer">
                  <a class = "nav-link nav-link-customizer" href = "{{ node.link }}">
                    {{ node.name }}
                  </a> 
                </li>
              <!-- The non-active class -->
              {% else %}
                <li class = "nav-item">
                  <a class = "nav-link" href = "{{ node.link }}">
                    {{ node.name }}
                  </a> 
                </li>      
              {% endif %}
            {% endfor %}
          </ul>
        </div>
      </nav>
      <!-- Check if we are displaying the search bar -->
      {% if site.show_search_bar %}
        <form class = "form-inline float-right mt-2">
          <div class = "input-group">
            <input class = "form-control " type = "text" placeholder = "Search" aria-label = "Search">
            <div class = "input-group-append">
              <button type = "button" class = "btn btn-primary" data-toggle = "modal" data-target = "#exampleModal" id = "searchButton">
                <span>
                  <i class = "fas fa-search text-white"></i>
                </span>
              </button>
            </div>
          </div>    
        </form>
      {% endif %}     
    {% endif %}
  </div>
</div>

<!-- Script to toggle class when the navbar collapses -->
<script>
  $(".navbar-toggler").click(function () {
    $("li").toggleClass("nav-item-customizer-collapsed");
  })
</script>

<!-- Script pointing to search-script.js -->
<script src = "/assets/js/jekyll-search.js" type = "text/javascript"></script>

<!-- The configuration script -->
<script>
  SimpleJekyllSearch({
    searchResultTemplate: '<div class = "container"><div class = "row mt-4"><div class = "col-sm-4"><img class = "rounded img-fluid img-thumbnail float-left img-search" src = {image}></div><div class = "col-sm-8"><a href = "{url}"><h4>{title}</h4></a><span>Published: {date}</span></div></div></div>',
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('results-container'),
    json: '/search.json'
  })
</script>
